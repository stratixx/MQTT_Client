version: 2
jobs:
  build:
    docker:
      - image: buildpack-deps:trusty

    steps:
      - checkout
      - run: sudo apt-get update
      - run: sudo apt-get install libboost-thread-dev
      - run: sudo apt-get install libboost-chrono-dev
      - run: sudo apt-get install libboost-system-dev


      - run: make clean

      - run: make all

      - run:
          name: MQTT_Client_Test
          command: echo 1 2 3 | ./UbuntuRelease/MQTT_Client

      - run:
          name: Print the Current Time
          command: date
